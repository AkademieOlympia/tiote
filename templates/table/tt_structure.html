<div class='row'>
	<div id='sql-container'></div>
	<div class='more-controls'></div>
	<div class='span12'>
		<div class='small-form-container'>
			<div id='form_result'></div>
      <h5 class="heading">Add New Column</h5>
      <div id="msg-placeholder"></div>
			<form id='tt_form' class="variable_form" action="" method="post" accept-charset="utf-8">
				{% csrf_token %}
				<table class='compact-form' style='margin-top:-10px;'><tbody>
			  	{% for field in form %}
			  		{% if field.name == 'insert_position' %}{% else %}
			  		{% if field.label in foreign_key_fields %}
			  			{% if field.label not in odd_fields %}
			  			<tr class='hidden foreign-fields-needed'><td>{{field.label_tag}}</td><td>{{field}}</td>
			  			{% else %}
			  			<td>{{field.label_tag}}</td><td>{{field}}</td></tr>
			  			{% endif %}
			  		{% endif %}
			    	{% if field.label == 'values' %}
			    	<tr class='hidden values-needed'><td>{{field.label_tag}}</td><td>{{field}}</td><td colspan='2'>{{field.help_text}}</td></tr>
			    	{% else %}
							{% if field.name not in table_fields and field.label not in odd_fields and field.label not in foreign_key_fields %}
							<tr><td class="input-header">{{field.label_tag}}<td class="contains-input">{{field}}</td>
							{% endif %}
							{% if field.name not in table_fields and field.label in odd_fields and field.label not in foreign_key_fields %}
							<td class="input-header">{{field.label_tag}}</td><td class="contains-input">{{field}}</td></tr>
							  {% endif %}
						{% endif %}{% endif %}
			    {% endfor %}
			    </tbody></table>
			  <div class="form-controls" style="margin-top:-10px;">
			  	<p class='pull-left'>
			  		<label for='id_insert_position' style='margin-right:30px;margin-left:-20px'>{{ form.insert_position.label }}</label>
			  		{{ form.insert_position}}
			  	</p>
			    <input type="submit" class='pull-right btn primary submit-button' value="Submit &rarr;" style='margin-right:50px' />
			  </div>
			</form>
		</div>
	</div>
</div>

<script type="text/javascript" ajaxKey="{{ajaxKey}}" charset="utf-8">
	if($$('table.compact-form td ul')) {
		var j = $$('table.compact-form td ul')[0];
		var con = new Elements();
		j.getChildren().each(function(item, key) {
			con.include(item.getChildren()[0]);
		});
		j.getParent().getParent().adopt(new Element('td', {
			'colspan' : 5,
			'class' : 'occupy'
		}).adopt(con));
		j.getParent().destroy();
	}
</script>

{% if table_with_columns %}
<div id='table_with_columns' class='hidden'>{{table_with_columns}}</div>
{% endif %}

<div id='undisplayed_result' class='hidden' style="display:none;"></div>
<div id='sidebar_data' class='hidden'>{{sidebar|safe}}</div>
